{"ast":null,"code":"var _jsxFileName = \"/Users/kaleb/dev/React/e-store/E-commerceStore/src/components/Home.js\";\nimport React from 'react';\nimport Path from \"./Router\";\nimport Cards from \"./Cards\";\nimport Filter from './Filter';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.listProducts = () => {\n      this.setState(state => {\n        if (state.sort !== '') {\n          state.products.sort((a, b) => state.sort === 'lowestprice' ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n        } else {\n          state.products.sort((a, b) => a.id > b.id ? 1 : -1);\n        }\n\n        if (state.size !== '') {\n          return {\n            filteredProducts: state.products.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0)\n          };\n        }\n\n        return {\n          filteredProducts: state.products\n        };\n      });\n    };\n\n    this.handleSortChange = e => {\n      this.setState({\n        sort: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleSizeChange = e => {\n      this.setState({\n        size: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.state = {\n      isLoaded: false,\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://my-json-server.typicode.com/tdmichaelis/json-api/products\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        items: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          items = _this$state.items;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Error: \", error.message);\n    } else if (!isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Filter, {\n        cat: this.state.category,\n        handleChangeCategory: this.handleChangeCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), items.map(item => React.createElement(Cards, {\n        key: item.id,\n        img: item.img,\n        title: item.title,\n        des: item.description,\n        price: item.price,\n        cat: item.category,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/kaleb/dev/React/e-store/E-commerceStore/src/components/Home.js"],"names":["React","Path","Cards","Filter","Home","Component","constructor","props","listProducts","setState","state","sort","products","a","b","price","id","size","filteredProducts","filter","availableSizes","indexOf","toUpperCase","handleSortChange","e","target","value","handleSizeChange","isLoaded","items","componentDidMount","fetch","then","res","json","result","error","render","message","category","handleChangeCategory","map","item","img","title","description"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport Path from \"./Router\";\nimport Cards from \"./Cards\";\nimport Filter from './Filter';\n\nclass Home extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoaded: false,\n            items: []\n        };\n    }\n\n\n    componentDidMount() {\n        fetch(\"https://my-json-server.typicode.com/tdmichaelis/json-api/products\")\n            .then(res => res.json())\n            .then(\n                result => {\n                    this.setState({\n                        isLoaded: true,\n                        items: result\n                    });\n                },\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    }\n    listProducts = () => {\n        this.setState(state => {\n            if (state.sort !== '') {\n                state.products.sort((a, b) =>\n                    (state.sort === 'lowestprice'\n                        ? ((a.price > b.price) ? 1 : -1)\n                        : ((a.price < b.price) ? 1 : -1)));\n            } else {\n                state.products.sort((a, b) => (a.id > b.id) ? 1 : -1);\n            }\n            if (state.size !== '') {\n                return { filteredProducts: state.products.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0) };\n            }\n            return { filteredProducts: state.products };\n        })\n    }\n    handleSortChange = (e) => {\n        this.setState({ sort: e.target.value });\n        this.listProducts();\n    }\n    handleSizeChange = (e) => {\n        this.setState({ size: e.target.value });\n        this.listProducts();\n    }\n\n    render() {\n        const { error, isLoaded, items } = this.state;\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n            return <div>Loading...</div>;\n        } else {\n            return (\n                <ul>\n                    <Filter cat={this.state.category} handleChangeCategory={this.handleChangeCategory}\n                    />\n                    {items.map(item => (\n                        <Cards key={item.id}\n                            img = {item.img}\n                            title = {item.title}\n                            des = {item.description}\n                            price = {item.price}\n                            cat = {item.category}\n                        />\n                    ))}\n                </ul>\n            );\n        }\n    }\n}\n\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}